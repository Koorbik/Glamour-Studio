<div class="appointments-container">
  <h2>My Appointments</h2>

  @if (isLoading) {
    <p>Loading your appointments...</p>
  }

  @if (!isLoading && appointments.length === 0) {
    <p>You have no appointments scheduled.</p>
  }

  <div class="appointments-list">
    @for (appointment of appointments; track appointment.appointmentId) {
      <mat-card class="appointment-card">
        <mat-card-header>
          <mat-card-title>{{ appointment.serviceName }}</mat-card-title>
          <mat-card-subtitle>{{ appointment.scheduledAt | date:'fullDate' }}</mat-card-subtitle>
        </mat-card-header>
        <mat-card-content>
          <p><strong>Location:</strong> {{ appointment.location }}</p>
          <p><strong>Notes:</strong> {{ appointment.description || 'None' }}</p>
        </mat-card-content>
        <mat-card-actions>
          <mat-chip-listbox>
            <mat-chip-option [selectable]="false" color="accent" selected>{{ appointment.status }}</mat-chip-option>
          </mat-chip-listbox>
        </mat-card-actions>
      </mat-card>
    }
  </div>
</div>
